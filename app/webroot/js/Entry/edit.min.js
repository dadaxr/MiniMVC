(function(e){function n(){e("#form_entries").on("submit",function(){s()})}function r(){var n=e("#categories_tree_container").data("categoriesJson");var r={datatype:"json",datafields:[{name:"id",type:"int"},{name:"title",type:"string"},{name:"parent_id",type:"int"},{name:"html_id",type:"string"},{name:"checked",type:"bool"}],id:"id",localdata:n};var i=new e.jqx.dataAdapter(r);i.dataBind();var o=[{name:"title",map:"label"},{name:"checked",map:"checked"},{name:"id",map:"value"},{name:"html_id",map:"id"}];var u=i.getRecordsHierarchy("id","parent_id","items",o);t.on("initialized",function(e){s()});t.jqxTree({source:u,checkboxes:true,hasThreeStates:false,theme:"bootstrap"})}function i(){e("#trigger_expand_all").click(function(){t.jqxTree("expandAll")});e("#trigger_collapse_all").click(function(){t.jqxTree("collapseAll")})}function s(){var n=t.jqxTree("getCheckedItems");var r=[];var i;for(var s in n){i=n[s];r.push(i.value)}e("#ih_categories_id").val(r.join(","))}var t=e("#categories_tree_container");e(document).ready(function(){n();r();i()})})(jQuery)